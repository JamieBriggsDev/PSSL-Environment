<Window x:Class="PSSL_Environment.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:wpfTool="http://schemas.xceed.com/wpf/xaml/toolkit"
        xmlns:wpfData="clr-namespace:Xceed.Wpf.DataGrid;assembly=Xceed.Wpf.DataGrid"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:PSSL_Environment"
        xmlns:sys="clr-namespace:System;assembly=mscorlib"
        xmlns:sharpGL="clr-namespace:SharpGL.WPF;assembly=SharpGL.WPF"
        mc:Ignorable="d"
        Title="{StaticResource strAppName}" Height="720" Width="1280" ResizeMode="CanResize"
        WindowStartupLocation="CenterOwner">

    <Window.Resources>
        <BooleanToVisibilityConverter x:Key="convVisibility"/>

        <!--Single Colour options-->
        <Color x:Key="CurrentColor">#00FF00</Color>

    </Window.Resources>

    <!--<Grid Name="pnlMainGrid" Background="LightBlue">

        <TextBox AcceptsReturn="True" TextWrapping="Wrap" SpellCheck.IsEnabled="True" Language="en-US" />

    </Grid>-->



    <StackPanel Margin="10">

        <ToolBar DockPanel.Dock="Top">
            <Button ToolTipService.ShowDuration="5000">
                <Button.Content>
                    <Image Source="Resources/newFileIcon.png" Width="16" Height="16" />
                </Button.Content>
                <Button.ToolTip>
                    <StackPanel>
                        <TextBlock FontWeight="Bold" FontSize="14" Margin="0,0,0,5">New file</TextBlock>
                        <TextBlock>
                        Create new file.
                        </TextBlock>
                        <Border BorderBrush="Silver" BorderThickness="0,1,0,0" Margin="0,8" />
                    </StackPanel>
                </Button.ToolTip>
            </Button>
            <Button>
                <Button.Content>
                    <Image Source="Resources/folderIcon.png" Width="16" Height="16" />
                </Button.Content>
                <Button.ToolTip>
                    <StackPanel>
                        <TextBlock FontWeight="Bold" FontSize="14" Margin="0,0,0,5">Open file</TextBlock>
                        <TextBlock>
                        Search your computer or local network
                        <LineBreak />
                        for a file and open it for editing.
                        </TextBlock>
                        <Border BorderBrush="Silver" BorderThickness="0,1,0,0" Margin="0,8" />
                    </StackPanel>
                </Button.ToolTip>
            </Button>
            <Button Name="OpenOBJ" Click="fileOpenItem_Click">
                <Button.Content>
                    <Image Source="Resources/cubeIcon.png" Width="16" Height="16" />
                </Button.Content>
                <Button.ToolTip>
                    <StackPanel>
                        <TextBlock FontWeight="Bold" FontSize="14" Margin="0,0,0,5">Open .OBJ</TextBlock>
                        <TextBlock>
                        Search your computer or local network
                        <LineBreak />
                        for an .obj file to load to viewport.
                        </TextBlock>
                        <Border BorderBrush="Silver" BorderThickness="0,1,0,0" Margin="0,8" />
                    </StackPanel>
                </Button.ToolTip>
            </Button>
            <ProgressBar Name="FileLoadProgress" Value="0"
                         Minimum="0" Maximum="100"/>
        </ToolBar>

        <Grid Name="LayoutRoot">
            <!--Grid Column definitions to allow for 2 columns of data-->
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="1*"/>
                <ColumnDefinition Width="2*"/>
            </Grid.ColumnDefinitions>
            <Grid.RowDefinitions>
                <RowDefinition Height="1*"/>
            </Grid.RowDefinitions>
            <!--Making tabs for the left hand side of the
            program-->
            <TabControl VerticalAlignment="Top">
                <TabItem Header="Basic" Height="24" VerticalAlignment="Center">
                    <TabControl>
                        <TabItem Name="PixelShaderTab" Header="Pixel Shader">
                            <Grid Name="PixelShaderGrid">
                                <StackPanel Margin="10,5">
                                    <Label FontWeight="Bold">Pixel Shader Options</Label>
                                    <!--Pixel Colour Options-->
                                    <StackPanel Margin="10,5">
                                        <Label>Pixel Colour Options</Label>
                                        <StackPanel Margin="20,5">
                                            <RadioButton GroupName="pixelColourOptions" Name="singleColour" Tag="singleColour" Checked="RadioButton_Checked">
                                                <WrapPanel>
                                                    <TextBlock Text="{StaticResource strSingleColour}" RenderTransformOrigin="0.5,0.5">
                                                        <TextBlock.RenderTransform>
                                                            <TransformGroup>
                                                                <ScaleTransform/>
                                                                <SkewTransform/>
                                                                <RotateTransform Angle="-0.075"/>
                                                                <TranslateTransform/>
                                                            </TransformGroup>
                                                        </TextBlock.RenderTransform>
                                                    </TextBlock>
                                                </WrapPanel>
                                            </RadioButton>
                                            <RadioButton GroupName="pixelColourOptions" Name="textureColour" Tag="textureColour" Checked="RadioButton_Checked">
                                                <WrapPanel>
                                                    <TextBlock Text="{StaticResource strTexture}"/>
                                                </WrapPanel>
                                            </RadioButton>
                                            <RadioButton GroupName="pixelColourOptions" Name="templateColour" Tag="templateColour" Checked="RadioButton_Checked">
                                                <WrapPanel>
                                                    <TextBlock Text="{StaticResource strColourTemplate}"/>
                                                </WrapPanel>
                                            </RadioButton>
                                        </StackPanel>
                                        <!--Hue Selecter-->
                                        <TextBlock x:Name="PixelColourOptionTitle"/>
                                        <!--Single Colour Stack Panel-->
                                        <StackPanel Visibility="{Binding IsChecked, ElementName=singleColour, Converter={StaticResource convVisibility}}" 
                                                    Orientation="Vertical" Margin="10,5,20,5">
                                            <!--<CheckBox x:Name="AmbientColourCheckBox">Ambient Colour</CheckBox>
                                            <CheckBox x:Name="DiffuseColourCheckBox">Diffuse Colour</CheckBox>
                                            <CheckBox x:Name="SpecularColourCheckBox">Specular Colour</CheckBox>
                                            <TextBlock TextDecorations="{x:Null}" FontStyle="Italic">Please select a colour from below:</TextBlock>
                                            <wpfTool:ColorCanvas x:Name="singleColorCanvas" Height="274" Margin="26,20,26,261" SelectedColorChanged="ColorPicker_SelectedColorChanged" />-->
                                            <TextBlock>Ambient Colour</TextBlock>
                                            <wpfTool:ColorPicker x:Name="ambientColorPicker" SelectedColorChanged="ambientColorPicker_SelectedColorChanged"
                                                                 UsingAlphaChannel="False"
                                                                 MaxDropDownWidth="250"
                                                                 AvailableColorsSortingMode="HueSaturationBrightness"/>
                                            <TextBlock>Diffuse Colour</TextBlock>
                                            <wpfTool:ColorPicker x:Name="diffuseColorPicker" SelectedColorChanged="diffuseColorPicker_SelectedColorChanged"
                                                                 UsingAlphaChannel="False"
                                                                 MaxDropDownWidth="250"/>
                                            <TextBlock>Specular Colour</TextBlock>
                                            <wpfTool:ColorPicker x:Name="specularColorPicker" SelectedColorChanged="specularColorPicker_SelectedColorChanged"
                                                                 UsingAlphaChannel="False"
                                                                 MaxDropDownWidth="250"/>
                                            <TextBlock>Alpha</TextBlock>
                                            <DockPanel VerticalAlignment="Center">
                                                <TextBox Text="{Binding ElementName=colorAlphaValue, Path=Value, UpdateSourceTrigger=PropertyChanged}"
                                                         DockPanel.Dock="Right" TextAlignment="Right" Width="40" />
                                                <Slider Maximum="1" TickPlacement="BottomRight" TickFrequency="0.01" 
                                                        Name="colorAlphaValue" ValueChanged="colorAlphaValue_ValueChanged" 
                                                        Value="1"/>
                                            </DockPanel>
                                            <TextBlock>Shininess</TextBlock>
                                            <DockPanel VerticalAlignment="Center">
                                                <TextBox Text="{Binding ElementName=shininessValue, Path=Value, UpdateSourceTrigger=PropertyChanged}"
                                                         DockPanel.Dock="Right" TextAlignment="Right" Width="40" />
                                                <Slider Maximum="50" TickPlacement="BottomRight" TickFrequency="0.01" 
                                                        Name="shininessValue" ValueChanged="colorAlphaValue_ValueChanged" 
                                                        Value="5"/>
                                            </DockPanel>
                                        </StackPanel>
                                        <!--Texture Stack Panel-->
                                        <StackPanel Visibility="{Binding IsChecked, ElementName=textureColour, Converter={StaticResource convVisibility}}" 
                                                    Orientation="Vertical" Margin="10,5,20,5">
                                    
                                                <TextBlock Text="Using Texture:"/>
                                                <CheckBox x:Name="UsingTexture" DockPanel.Dock="Right" Margin="12,0,0,0"/>
                                    
                                            <TextBlock TextDecorations="{x:Null}" FontStyle="Italic">Please load an image from file:</TextBlock>
                                            <Button Height="23" HorizontalAlignment="Left" 
                                                Margin="12,0,0,34" Name="btnImageLoad" VerticalAlignment="Bottom" 
                                                Width="75" Grid.Column="1" Click="btnLoadImage_Click">Load Image</Button>
                                            <Image Margin="12,12,16,71" Name="imgPhoto" 
                                                Stretch="Fill" Grid.Column="1" />
                                        </StackPanel>
                                    </StackPanel>
                                </StackPanel>
                            </Grid>
                            <!--End of Pixel Shader Tab Item-->
                        </TabItem>
                        <TabItem Header="Vertex Shader">
                            <!--End of vertex Shader Tab Item-->
                   
                        </TabItem>
                        <TabItem Header="Templates">
                            <!--End of vertex Shader Tab Item-->
                            <Grid>
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="25" />
                                    <RowDefinition Height="25" />
                                    <RowDefinition Height="25" />
                                    <RowDefinition Height="25" />
                                </Grid.RowDefinitions>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="Auto"/>
                                    <ColumnDefinition Width="25"/>
                                    <ColumnDefinition Width="Auto"/>
                                    <ColumnDefinition Width="150"/>
                                    <ColumnDefinition Width="30"/>

                                </Grid.ColumnDefinitions>

                                <!--WATER EFFECT-->
                                <TextBlock Grid.Column="0" Grid.Row="0" VerticalAlignment="Center">Water Effect:</TextBlock>
                                <CheckBox x:Name="WaterEnabled" Click="WaterEnabled_Click"
                                          Grid.Column="1" Grid.Row="0" HorizontalAlignment="Center" 
                                          HorizontalContentAlignment="Center" VerticalAlignment="Center" 
                                          VerticalContentAlignment="Center"/>
                                <!-- AMPLITUDE-->
                                <TextBlock Grid.Column="2" Grid.Row="0" VerticalAlignment="Center">Amplitude:</TextBlock>
                                <Slider x:Name="AmplitudeSlider" Grid.Column="3" Grid.Row="0" VerticalAlignment="Center" 
                                        Minimum="0" Maximum="1" Value="1" TickPlacement="BottomRight" TickFrequency="0.01"
                                        ValueChanged="AmplitudeSlider_ValueChanged"/>
                                <TextBox Text="{Binding ElementName=AmplitudeSlider, Path=Value, UpdateSourceTrigger=PropertyChanged}"
                                                          Grid.Row="0" Grid.Column="4" TextAlignment="Left"/>
                                <!-- SPEED-->
                                <TextBlock Grid.Column="2" Grid.Row="1" VerticalAlignment="Center">Speed:</TextBlock>
                                <Slider x:Name="SpeedSlider" Grid.Column="3" Grid.Row="1" VerticalAlignment="Center" 
                                        Minimum="-30" Maximum="30" Value="1" TickPlacement="BottomRight" TickFrequency="0.1"
                                        ValueChanged="SpeedSlider_ValueChanged"/>
                                <TextBox Text="{Binding ElementName=SpeedSlider, Path=Value, UpdateSourceTrigger=PropertyChanged}"
                                                          Grid.Row="1" Grid.Column="4" TextAlignment="Left"/>

                                <!-- FREQUENCY-->
                                <TextBlock Grid.Column="2" Grid.Row="2" VerticalAlignment="Center">Frequency:</TextBlock>
                                <Slider x:Name="FrequencySlider" Grid.Column="3" Grid.Row="2" VerticalAlignment="Center" 
                                        Minimum="0" Maximum="30" Value="1" TickPlacement="BottomRight" TickFrequency="1"
                                        ValueChanged="FrequencySlider_ValueChanged"/>
                                <TextBox Text="{Binding ElementName=FrequencySlider, Path=Value, UpdateSourceTrigger=PropertyChanged}"
                                                          Grid.Row="2" Grid.Column="4" TextAlignment="Left"/>

                                <TextBlock Grid.Column="0" Grid.Row="3" VerticalAlignment="Center">Toon Shader: </TextBlock>
                                <CheckBox x:Name="checkBoxUseToonShader" Grid.Column="1" Grid.Row="3" HorizontalAlignment="Center" 
                                          HorizontalContentAlignment="Center" VerticalAlignment="Center" 
                                          VerticalContentAlignment="Center"/>
                            </Grid>
                        </TabItem>
                    </TabControl>
                </TabItem>
                <TabItem Header="Advanced" Height="24" VerticalAlignment="Top">
                    <!--End of vertex Shader Tab Item-->
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="3*"/>
                            <ColumnDefinition Width="1*"/>
                        </Grid.ColumnDefinitions>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="20"/>
                            <RowDefinition Height="10*"/>
                            <RowDefinition Height="1*"/>
                        </Grid.RowDefinitions>
                        <RadioButton VerticalContentAlignment="Center" HorizontalAlignment="Left" Margin="0">
                            <TextBlock>Use Advanced Settings</TextBlock>
                        </RadioButton>
                        <TabControl Grid.Row="1">
                            <TabItem Header="Vertex Shader">
                                <TextBox x:Name="VertexShaderText" BorderThickness="2" VerticalContentAlignment="Stretch"
                                         AcceptsReturn="True" />
                            </TabItem>
                            <TabItem Header="Fragment Shader">
                                <TextBox x:Name="FragmentShaderText" BorderThickness="2" VerticalContentAlignment="Stretch"
                                         AcceptsReturn="True"/>
                            </TabItem>
                        </TabControl>
                        <TextBlock x:Name="CompileErrorOutput" Grid.Row="2" TextWrapping="WrapWithOverflow"/>
                        <Button x:Name="CompileShadersAdvButton" Grid.Row="2" Grid.Column="1" Click="CompileShadersAdvButton_Click">
                            <TextBlock> Compile Shaders</TextBlock>
                        </Button>
                    </Grid>
                </TabItem>
                <TabItem Header="View Port" Height="24" VerticalAlignment="Top">
                    <Grid Margin="5">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="Auto" />
                            <ColumnDefinition Width="Auto" />
                            <ColumnDefinition Width="Auto" />
                            <ColumnDefinition Width="Auto" />
                            <ColumnDefinition Width="Auto" />
                        </Grid.ColumnDefinitions>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="25" />
                            <RowDefinition Height="Auto" />
                            <RowDefinition Height="25" />
                            <RowDefinition Height="Auto" />
                            <RowDefinition Height="25" />
                            <RowDefinition Height="Auto" />
                            <RowDefinition Height="25" />
                        </Grid.RowDefinitions>

                        <TextBlock Grid.Column="0">Model Position = </TextBlock>
                        <TextBox Text="{Binding ElementName=positionX, Path=Value, UpdateSourceTrigger=PropertyChanged}"
                                    Grid.Column="1" Grid.Row="0"             
                                    DockPanel.Dock="Right" TextAlignment="Right" Width="40" />
                        <Slider Maximum="5" Minimum="-5" TickPlacement="Both" TickFrequency="0.5" 
                                                Name="positionX" ValueChanged="positionX_ValueChanged" 
                                                Value="-1" Orientation="Vertical" Height="60"
                                                Grid.Column="1" Grid.Row="1" HorizontalAlignment="Right"/>
                        <TextBox Text="{Binding ElementName=positionY, Path=Value, UpdateSourceTrigger=PropertyChanged}"
                                    Grid.Column="2" Grid.Row="0"             
                                    DockPanel.Dock="Right" TextAlignment="Right" Width="40" />
                        <Slider Maximum="5" Minimum="-5" TickPlacement="Both" TickFrequency="0.5" 
                                                Name="positionY" ValueChanged="positionY_ValueChanged" 
                                                Value="-1" Orientation="Vertical" Height="60"
                                                Grid.Column="2" Grid.Row="1" HorizontalAlignment="Right"/>
                        <TextBox Text="{Binding ElementName=positionZ, Path=Value, UpdateSourceTrigger=PropertyChanged}"
                                    Grid.Column="3" Grid.Row="0"             
                                    DockPanel.Dock="Right" TextAlignment="Right" Width="40" />
                        <Slider Maximum="-5" Minimum="-15" TickPlacement="Both" TickFrequency="0.5" 
                                                Name="positionZ" ValueChanged="positionZ_ValueChanged" 
                                                Value="-10" Orientation="Vertical" Height="60"
                                                Grid.Column="3" Grid.Row="1" HorizontalAlignment="Right"/>

                        <TextBlock Grid.Column="0" Grid.Row="2">Model Rotation =</TextBlock>
                        <TextBox Text="{Binding ElementName=rotationX, Path=Value, UpdateSourceTrigger=PropertyChanged}"
                                    Grid.Column="1" Grid.Row="2"             
                                    DockPanel.Dock="Right" TextAlignment="Right" Width="40" />
                        <Slider Maximum="1" Minimum="-1" TickPlacement="Both" TickFrequency="0.1" 
                                                Name="rotationX" ValueChanged="rotationX_ValueChanged" 
                                                Value="0" Orientation="Vertical" Height="60"
                                                Grid.Column="1" Grid.Row="3" HorizontalAlignment="Right"/>
                        <TextBox Text="{Binding ElementName=rotationY, Path=Value, UpdateSourceTrigger=PropertyChanged}"
                                    Grid.Column="2" Grid.Row="2"             
                                    DockPanel.Dock="Right" TextAlignment="Right" Width="40" />
                        <Slider Maximum="1" Minimum="-1" TickPlacement="Both" TickFrequency="0.1" 
                                                Name="rotationY" ValueChanged="rotationY_ValueChanged" 
                                                Value="1" Orientation="Vertical" Height="60"
                                                Grid.Column="2" Grid.Row="3" HorizontalAlignment="Right"/>
                        <TextBox Text="{Binding ElementName=rotationZ, Path=Value, UpdateSourceTrigger=PropertyChanged}"
                                    Grid.Column="3" Grid.Row="2"             
                                    DockPanel.Dock="Right" TextAlignment="Right" Width="40" />
                        <Slider Maximum="1" Minimum="-1" TickPlacement="Both" TickFrequency="0.1" 
                                                Name="rotationZ" ValueChanged="rotationZ_ValueChanged" 
                                                Value="0" Orientation="Vertical" Height="60"
                                                Grid.Column="3" Grid.Row="3" HorizontalAlignment="Right"/>

                        <TextBlock Grid.Column="0" Grid.Row="4">Light Location =</TextBlock>
                        <TextBox Text="{Binding ElementName=lightPositionX, Path=Value, UpdateSourceTrigger=PropertyChanged}"
                                    Grid.Column="1" Grid.Row="4"             
                                    DockPanel.Dock="Right" TextAlignment="Right" Width="40" />
                        <Slider Maximum="10" Minimum="-10" TickPlacement="Both" TickFrequency="0.25" 
                                                Name="lightPositionX" ValueChanged="lightPositionX_ValueChanged" 
                                                Value="0.25" Orientation="Vertical" Height="60"
                                                Grid.Column="1" Grid.Row="5" HorizontalAlignment="Right"/>
                        <TextBox Text="{Binding ElementName=lightPositionY, Path=Value, UpdateSourceTrigger=PropertyChanged}"
                                    Grid.Column="2" Grid.Row="4"             
                                    DockPanel.Dock="Right" TextAlignment="Right" Width="40" />
                        <Slider Maximum="10" Minimum="-10" TickPlacement="Both" TickFrequency="0.25" 
                                                Name="lightPositionY" ValueChanged="lightPositionY_ValueChanged" 
                                                Value="0.25" Orientation="Vertical" Height="60"
                                                Grid.Column="2" Grid.Row="5" HorizontalAlignment="Right"/>
                        <TextBox Text="{Binding ElementName=lightPositionZ, Path=Value, UpdateSourceTrigger=PropertyChanged}"
                                    Grid.Column="3" Grid.Row="4"             
                                    DockPanel.Dock="Right" TextAlignment="Right" Width="40" />
                        <Slider Maximum="10" Minimum="-10" TickPlacement="Both" TickFrequency="0.25" 
                                                Name="lightPositionZ" ValueChanged="lightPositionZ_ValueChanged" 
                                                Value="10" Orientation="Vertical" Height="60"
                                                Grid.Column="3" Grid.Row="5" HorizontalAlignment="Right"/>
                        
                        
                        <TextBlock Text="Smoothing(EXPERIEMENTAL)="
                                 Grid.Row="6"/>
                        <CheckBox x:Name="SmoothingEnabled" IsChecked="False" 
                                  Click="SmoothingEnabled_Click"
                                  Grid.Column="1" Grid.Row="6" HorizontalAlignment="Center" HorizontalContentAlignment="Center" VerticalContentAlignment="Center" VerticalAlignment="Center"/>
                    </Grid>
                </TabItem>
            </TabControl>


            <StackPanel Grid.Column="1" Margin="10,28,10,5"
                        HorizontalAlignment="Stretch"
                        VerticalAlignment="Stretch">
                <DockPanel VerticalAlignment="Center">
                    <!--<TextBox Text="{Binding ActualHeight, 
              RelativeSource ={RelativeSource AncestorType = {x:Type Window}}}"/>
                    <TextBox Text="{Binding ActualWidth, 
              RelativeSource ={RelativeSource AncestorType = {x:Type Window}}}"/>-->
                </DockPanel>
                <Grid Name="Viewport" Height="{Binding ActualHeight, 
              RelativeSource ={RelativeSource AncestorType = {x:Type Window}}}">
                    <sharpGL:OpenGLControl Name="openGlCtrl"
                                           Margin="0,0,0,126" OpenGLDraw="OpenGLControl_OpenGLDraw"
                                           OpenGLInitialized="OpenGLControl_OpenGLInitialized"
                                           RenderContextType="FBO"
                                           DrawFPS="True"
                                           HorizontalAlignment="Stretch"
                                           VerticalAlignment="Stretch"
                                           Resized="OpenGLControl_Resized" Grid.ColumnSpan="2"
                                           MouseEnter="openGlCtrl_MouseEnter"
                                           />
                </Grid>
            </StackPanel>

        </Grid>
    </StackPanel>

</Window>
